# wormhole
[wormhole](https://wormhole-b1a8.onrender.com) is a web app for sending small files across devices. 

https://github.com/dinosoupy/wormhole/assets/47291303/122bdbfc-5dde-4612-80ff-3c3ec4320581

## Architecture
All file uploads are ephemeral and deleted after an hour.
- `frontend` A static file server is used to serve frontend files over HTTP. 
- `backend` Download links are generated by presigning it using [AWS SDK](https://docs.aws.amazon.com/AmazonS3/latest/userguide/example_s3_Scenario_PresignedUrl_section.html). 
- `encryption` Presigned links to download the uploaded files are generated using [S3 managed encryption keys](https://docs.aws.amazon.com/AmazonS3/latest/userguide/bucket-encryption.html) since all objects within an S3 are encrypted at rest. 
- `QR codes` QR codes are made with [qrcode.js](https://github.com/davidshimjs/qrcodejs).

## Deployment
Wormhole is currently deployed on [render](https://render.com/). To run locally, clone this repo and install the dependencies:
```bash
git clone https://github.com/dinosoupy/wormhole.git
```

Configure the following environment variables with your own S3 bucket keys:
```bash
AWS_REGION=
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
```

Build the app and run:
```bash
go build
./wormhole
```

Make sure to create a [role](https://docs.aws.amazon.com/AmazonS3/latest/userguide/security-iam-awsmanpol.html) with access to the bucket beforehand. I would also recommend setting up
a [lifecycle configuration](https://docs.aws.amazon.com/AmazonS3/latest/userguide/how-to-set-lifecycle-configuration-intro.html) on the bucket to make sure partial uploads are auto deleted. Completed uploads 
are deleted by the main server after an hour by default.

## Contributing
If you want to contribute to this project, feel free to fork it and make changes in the `feature` branch before creating a pull request.
